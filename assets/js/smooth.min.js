!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).window=e.window||{})}(this,(function(e){"use strict";function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(){return"undefined"!=typeof window}function n(){return o||r()&&(o=window.gsap)&&o.registerPlugin&&o}!function(){String.fromCharCode.apply(null,arguments)}(103,114,101,101,110,115,111,99,107,46,99,111,109);var o,i,s,a,l,c,u,f,h,d,g,p,v,m=(y.register=function(e){return i||(o=e||n(),r()&&window.document&&(s=window,a=document,l=a.documentElement,c=a.body),o&&(u=o.utils.toArray,f=o.utils.clamp,g=o.parseEase("expo"),h=o.core.globals().ScrollTrigger,o.core.globals("ScrollSmoother",y),c&&h&&(p=h.core._getVelocityProp,v=h.core._inputObserver,y.refresh=h.refresh,i=1))),i},function(e,r,n){r&&t(e.prototype,r),n&&t(e,n)}(y,[{key:"progress",get:function(){return this.scrollTrigger.animation._time/100}}]),y);function y(e){var t=this;function r(){return $.update(-Q)}function n(){return R.style.overflow="visible"}function m(e){e.update();var t=e.getTween();t&&(t.pause(),t._time=t._dur,t._tTime=t._tDur),U=!1,e.animation.progress(e.progress,!0)}function w(e,t){(e!==Q&&!L||t)&&(J&&(R.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+e+", 0, 1)",R._gsap.y=e+"px"),X=e-Q,Q=e,h.isUpdating||h.update())}function b(e){return arguments.length?(e<0&&(e=0),ee.y=-e,U=!0,L?Q=-e:w(-e),G(e),this):-Q}function S(e){A.scrollTop=0,e.target.contains&&e.target.contains(A)||K&&!1===K(t,e)||(h.isInViewport(e.target)||e.target===q||t.scrollTo(e.target,!1,"center center"),q=e.target)}function T(e){var t,r,n,i;F.forEach((function(s){t=s.pins,i=s.markers,e.forEach((function(e){e.trigger!==s.trigger&&e.pinnedContainer!==s.trigger||s===e||(r=e.start,n=(r-s.start-s.offset)/s.ratio-(r-s.start),t.forEach((function(e){return n-=e.distance/s.ratio-e.distance})),e.setPositions(r+n,e.end+n),e.markerStart&&i.push(o.quickSetter([e.markerStart,e.markerEnd],"y","px")),e.pin&&0<e.end&&(n=e.end-e.start,t.push({start:e.start,end:e.end,distance:n,trig:e}),s.setPositions(s.start,s.end+n),s.vars.onRefresh(s)))}))}))}function x(){n(),requestAnimationFrame(n),F&&(F.forEach((function(e){var t=e.start,r=e.auto?Math.min(h.maxScroll(e.scroller),e.end):t+(e.end-t)/e.ratio,n=(r-e.end)/2;t-=n,r-=n,e.offset=n||1e-4,e.pins.length=0,e.setPositions(Math.min(t,r),Math.max(t,r)),e.vars.onRefresh(e)})),T(h.sort())),$.reset()}function k(){return F&&F.forEach((function(e){return e.vars.onRefresh(e)}))}function E(){return F&&F.forEach((function(e){return e.vars.onRefreshInit(e)})),k}function C(e,t,r,n){return function(){var o="function"==typeof t?t(r,n):t;return o||0===o||(o=n.getAttribute("data-"+e)||("speed"===e?1:0)),n.setAttribute("data-"+e,o),"auto"===o?o:parseFloat(o)}}function P(e,t,r,n){function i(){t=w(),r=b(),u=parseFloat(t)||1,m=(p="auto"===t)?0:.5,v&&v.kill(),v=r&&o.to(e,{ease:g,overwrite:!1,y:"+=0",duration:r}),d&&(d.ratio=u,d.autoSpeed=p)}function a(){T.y=S+"px",T.renderTransform(1),i()}function c(t){if(p){a();var r=function(e,t){var r,n,o=e.parentNode||l,i=e.getBoundingClientRect(),a=o.getBoundingClientRect(),c=a.top-i.top,u=a.bottom-i.bottom,f=(Math.abs(c)>Math.abs(u)?c:u)/(1-t),h=-f*t;return 0<f&&(h+=-(n=.5==(r=a.height/(s.innerHeight+a.height))?2*a.height:2*Math.min(a.height,-f*r/(2*r-1)))/2,f+=n),{change:f,offset:h}}(e,f(0,1,-t.start/(t.end-t.start)));P=r.change,y=r.offset}else P=(t.end-t.start)*(1-u),y=0;x.forEach((function(e){return P-=e.distance*(1-u)})),t.vars.onUpdate(t),v&&v.progress(1)}var u,d,p,v,m,y,w=C("speed",t,n,e),b=C("lag",r,n,e),S=o.getProperty(e,"y"),T=e._gsap,x=[],k=[],P=0;return i(),(1!==u||p||v)&&(c(d=h.create({trigger:p?e.parentNode:e,scroller:A,scrub:!0,refreshPriority:-999,onRefreshInit:a,onRefresh:c,onKill:function(e){var t=F.indexOf(e);0<=t&&F.splice(t,1),a()},onUpdate:function(e){var t,r,n,i=S+P*(e.progress-m),s=x.length,a=0;if(e.offset){if(s){for(r=-Q,n=e.end;s--;){if((t=x[s]).trig.isActive||r>=t.start&&r<=t.end)return void(v&&(t.trig.progress+=t.trig.direction<0?.001:-.001,t.trig.update(0,0,1),v.resetTo("y",parseFloat(T.y),-X,!0),Z&&v.progress(1)));r>t.end&&(a+=t.distance),n-=t.distance}i=S+a+P*((o.utils.clamp(e.start,e.end,r)-e.start-a)/(n-e.start)-m)}i=function(e){return Math.round(1e5*e)/1e5||0}(i+y),k.length&&!p&&k.forEach((function(e){return e(i-a)})),v?(v.resetTo("y",i,-X,!0),Z&&v.progress(1)):(T.y=i+"px",T.renderTransform(1))}}})),o.core.getCache(d.trigger).stRevert=E,d.startY=S,d.pins=x,d.markers=k,d.ratio=u,d.autoSpeed=p,e.style.willChange="transform"),d}i||y.register(o)||console.warn("Please gsap.registerPlugin(ScrollSmoother)"),e=this.vars=e||{},d&&d.kill(),d=this;var R,A,_,M,F,B,z,I,H,L,N,O,U,q,V=e.smoothTouch,j=e.onUpdate,D=e.onStop,Y=e.smooth,K=e.onFocusIn,W=e.normalizeScroll,G=h.getScrollFunc(s),J=1===h.isTouch?!0===V?.8:parseFloat(V)||0:0===Y||!1===Y?0:parseFloat(Y)||.8,Q=0,X=0,Z=1,$=p(0),ee={y:0};function te(){return _=R.clientHeight,R.style.overflow="visible",c.style.height=_+"px",_-s.innerHeight}h.addEventListener("refresh",x),o.delayedCall(.5,(function(){return Z=0})),this.scrollTop=b,this.scrollTo=function(e,r,n){var i=o.utils.clamp(0,h.maxScroll(s),isNaN(e)?t.offset(e,n):+e);r?L?o.to(t,{duration:J,scrollTop:i,overwrite:"auto",ease:g}):G(i):b(i)},this.offset=function(e,t){var r,n=(e=u(e)[0]).style.cssText,i=h.create({trigger:e,start:t||"top top"});return F&&T([i]),r=i.start,i.kill(!1),e.style.cssText=n,o.core.getCache(e).uncache=1,r},this.content=function(e){if(arguments.length){var t=u(e||"#smooth-content")[0]||c.children[0];return t!==R&&(H=(R=t).getAttribute("style")||"",o.set(R,{overflow:"visible",width:"100%",boxSizing:"border-box",y:"+=0"})),this}return R},this.wrapper=function(e){return arguments.length?(A=u(e||"#smooth-wrapper")[0]||function(e){var t=a.querySelector(".ScrollSmoother-wrapper");return t||((t=a.createElement("div")).classList.add("ScrollSmoother-wrapper"),e.parentNode.insertBefore(t,e),t.appendChild(e)),t}(R),I=A.getAttribute("style")||"",te(),o.set(A,J?{overflow:"hidden",position:"fixed",height:"100%",width:"100%",top:0,left:0,right:0,bottom:0}:{overflow:"visible",position:"relative",width:"100%",height:"auto",top:"auto",bottom:"auto",left:"auto",right:"auto"}),this):A},this.effects=function(e,t){if(F=F||[],!e)return F.slice(0);(e=u(e)).forEach((function(e){for(var t=F.length;t--;)F[t].trigger===e&&(F[t].kill(),F.splice(t,1))}));var r,n,o=(t=t||{}).speed,i=t.lag,s=[];for(r=0;r<e.length;r++)(n=P(e[r],o,i,r))&&s.push(n);return F.push.apply(F,s),s},this.sections=function(e,t){if(B=B||[],!e)return B.slice(0);var r=u(e).map((function(e){return h.create({trigger:e,start:"top 120%",end:"bottom -20%",onToggle:function(t){e.style.opacity=t.isActive?"1":"0",e.style.pointerEvents=t.isActive?"all":"none"}})}));return t&&t.add?B.push.apply(B,r):B=r.slice(0),r},this.content(e.content),this.wrapper(e.wrapper),this.render=function(e){return w(e||0===e?e:Q)},this.getVelocity=function(){return $.getVelocity(-Q)},h.scrollerProxy(A,{scrollTop:b,scrollHeight:function(){return te()&&c.scrollHeight},fixedMarkers:!1!==e.fixedMarkers&&!!J,content:R,getBoundingClientRect:function(){return{top:0,left:0,width:s.innerWidth,height:s.innerHeight}}}),h.defaults({scroller:A});var re=h.getAll().filter((function(e){return e.scroller===s||e.scroller===A}));re.forEach((function(e){return e.revert(!0)})),M=h.create({animation:o.fromTo(ee,{y:0},{y:function(){return-te()},immediateRender:!1,ease:"none",data:"ScrollSmoother",duration:100,onUpdate:function(){var e=U;e&&(m(M),ee.y=Q),w(ee.y,e),r(),j&&!L&&j(t)}}),onRefreshInit:function(){O=Q,ee.y=A.scrollTop=0},id:"ScrollSmoother",scroller:s,invalidateOnRefresh:!0,start:0,refreshPriority:-9999,end:te,onScrubComplete:function(){$.reset(),D&&D(t)},scrub:J||!0,onRefresh:function(e){m(e),ee.y=-G(),w(ee.y),Z||e.animation.progress(o.utils.clamp(0,1,O/-e.end))}}),this.smooth=function(e){return arguments.length&&(J=e||0),arguments.length?M.scrubDuration(e):M.getTween()?M.getTween().duration():0},M.getTween()&&(M.getTween().vars.ease=e.ease||g),this.scrollTrigger=M,e.effects&&this.effects(!0===e.effects?"[data-speed], [data-lag]":e.effects,{}),e.sections&&this.sections(!0===e.sections?"[data-section]":e.sections),re.forEach((function(e){e.vars.scroller=A,e.init(e.vars,e.animation)})),this.paused=function(e,t){return arguments.length?(!!L!==e&&(e?(M.getTween()&&M.getTween().pause(),G(-Q),$.reset(),(N=h.normalizeScroll())&&N.disable(),(L=h.observe({preventDefault:!0,type:"wheel,touch,scroll",debounce:!1,allowClicks:!0,onChangeY:function(){return b(-Q)}})).nested=v(l,"wheel,touch,scroll",!0,!1!==t)):(L.nested.kill(),L.kill(),L=0,N&&N.enable(),M.progress=(-Q-M.start)/(M.end-M.start),m(M))),this):!!L},this.kill=function(){t.paused(!1),m(M),M.kill();for(var e=(F||[]).concat(B||[]),r=e.length;r--;)e[r].kill();h.scrollerProxy(A),h.removeEventListener("refresh",x),c.style.removeProperty("height"),A.style.cssText=I,R.style.cssText=H;var n=h.defaults({});n&&n.scroller===A&&h.defaults({scroller:s}),t.normalizer&&h.normalizeScroll(!1),clearInterval(z),d=null,s.removeEventListener("focusin",S)},this.refresh=function(e,t){return M.refresh(e,t)},W&&(this.normalizer=h.normalizeScroll(!0===W?{debounce:!0,content:!J&&R}:W)),h.config(e),"overscrollBehavior"in s.getComputedStyle(c)&&o.set([c,l],{overscrollBehavior:"none"}),"scrollBehavior"in s.getComputedStyle(c)&&o.set([c,l],{scrollBehavior:"auto"}),s.addEventListener("focusin",S),z=setInterval(r,250),"loading"===a.readyState||requestAnimationFrame((function(){return h.refresh()}))}m.version="3.10.5",m.create=function(e){return d&&e&&d.content()===u(e.content)[0]?d:new m(e)},m.get=function(){return d},n()&&o.registerPlugin(m),e.ScrollSmoother=m,e.default=m,"undefined"==typeof window||window!==e?Object.defineProperty(e,"__esModule",{value:!0}):delete e.default}));
